==============================================================
                   NEURONXT - SMARTNOTE HUB MODULE
==============================================================

1. OVERVIEW
------------
The SmartNote Hub (Notes Hub) is NeuroNxt‚Äôs intelligent, AI-assisted 
note management and discovery system. It allows teachers to upload notes 
and students to explore, search, filter, save, and summarize them 
within their institute‚Äôs environment.

Each institute has its own isolated notes database, ensuring complete 
data privacy using `institute_code`.

--------------------------------------------------------------

2. CORE PURPOSE
----------------
- Centralized, AI-powered notes system per institute.
- Allows easy sharing of teacher-created and AI-generated notes.
- Helps students find and study content faster using filters, 
  semantic search, and summaries.
- Clean and interactive UI with advanced viewing options.

--------------------------------------------------------------

3. ACCESS LOGIC
----------------
- **Teacher-uploaded notes** ‚Üí visible to all students under same institute.
- **Student-created notes** ‚Üí visible only to that student.
- **Admin** ‚Üí has access to all notes in the institute.
- All actions scoped under `institute_code` for isolation.

--------------------------------------------------------------

4. FRONTEND - NOTES DASHBOARD
------------------------------
Main UI Elements:
-----------------
- **Search Bar:** Search notes by title, teacher, or topic.
- **Filter Panel:**
   - Branch (dropdown)
   - Semester (dropdown)
   - Notes Type (AI-generated / Uploaded / Text / Media)
   - Difficulty (Easy / Medium / Hard)
   - Sort Options: Most Recent, Most Viewed, Most Liked, Saved
- **View Mode Toggle:**
   - Grid View ‚Üí Cards in 3‚Äì4 column layout.
   - List View ‚Üí Compact rows with detailed meta info.
   - Toggle Button: [üî≥ Grid] / [üìÑ List]

--------------------------------------------------------------
UI LAYOUT - NOTE CARD (GRID VIEW)
---------------------------------
Each note is displayed as an **interactive hover card**.

+--------------------------------------------------------------+
| [NOTE CARD]                                                  |
|--------------------------------------------------------------|
| Title: <Note Title>                                          |
| Short Description: <Optional Summary>                        |
| Teacher: <Teacher Name>                                      |
| Topics: #Topic1 #Topic2                                      |
| Uploaded: X days ago                                         |
| Views: 124 | Likes: 48                                       |
|--------------------------------------------------------------|
| (Hover Area - Top Right) ‚Üí                                   |
|   [üíæ Save] [üß† Summarize] [‚úÖ Completed]                    |
|   (Visible only on hover)                                    |
|--------------------------------------------------------------|
| Bottom: [View Details]                                       |
+--------------------------------------------------------------+

--------------------------------------------------------------
UI LAYOUT - NOTE ITEM (LIST VIEW)
---------------------------------
Each note shown in a horizontal row layout.

+---------------------------------------------------------------------------------------+
| Title: <Note Title> | Teacher: <Name> | Uploaded: X days ago | Views: 124 | Likes: 48 |
| Short Description: <Optional> | Tags: #Topic1 #Topic2 #Topic3                     |
| [üíæ Save] [üß† Summarize] [‚úÖ Completed] [‚¨áÔ∏è Download] [üëÅÔ∏è View Details]          |
+---------------------------------------------------------------------------------------+

- Hover shortcuts (Save, Summarize, Completed) remain visible on hover.
- List view shows extra fields like Subject, Difficulty, and Reading Time.

--------------------------------------------------------------

5. NOTE POPUP VIEW (DETAILED)
------------------------------
When a note card is clicked, a popup window appears.

HEADER SECTION:
-------------------------------------------------
| Title: [Full Note Title]                      |
| Description: [Detailed Description]            |
| Teacher: [Name] | Uploaded: [Duration Ago]     |
| Views: [Count] | Likes: [Count] | Tags: #tags  |
|------------------------------------------------|
| [‚ù§Ô∏è Like] [üíæ Save] [‚¨áÔ∏è Download] [‚úñÔ∏è Close]   |
-------------------------------------------------

BODY SECTION (Two-Column Layout):
---------------------------------
LEFT (Content Area)
--------------------
- Displays text and voice content inline.
- PDFs, images, videos, and external links open in new tab or download.
- Embedded audio for voice-based notes.

RIGHT (Details Panel)
----------------------
| Author: [Teacher Name]                 |
| Subject: [Subject Name]                |
| Difficulty: [Easy / Medium / Hard]     |
| Reading Time: [Estimated mins]         |
| Views: [Count]                         |
| Tags: #tag1 #tag2 #tag3                |

--------------------------------------------------------------

6. TEACHER UPLOAD WORKFLOW
---------------------------
1. Teacher clicks **Upload Note**.
2. Enters:
   - Title, Description, Subject, Tags
   - Branch, Semester, Difficulty
   - Note Type (Text / PDF / Image / Video / Link)
3. Uploads content or adds text.
4. System processes and classifies note by file type.
5. Note becomes visible to all students under that institute.

--------------------------------------------------------------

7. STUDENT INTERACTION
-----------------------
Students can:
- Search and filter notes using advanced filters.
- Switch between Grid/List layouts.
- Save, summarize, or mark notes as completed via hover actions.
- Like, download, or view detailed content in popup.
- Access saved/completed notes in their personal dashboard.

--------------------------------------------------------------

8. BACKEND WORKFLOW
--------------------
Main Endpoints:
- `POST /api/notes/upload` ‚Üí Teacher uploads new note
- `GET /api/notes` ‚Üí Fetch notes per institute
- `POST /api/notes/search` ‚Üí Smart search & filter
- `PUT /api/notes/like/{id}` ‚Üí Like/unlike a note
- `PUT /api/notes/save/{id}` ‚Üí Save/unsave
- `PUT /api/notes/complete/{id}` ‚Üí Mark as completed
- `POST /api/notes/ai_summarize` ‚Üí Trigger AI summarization
- `GET /api/notes/details/{id}` ‚Üí Fetch detailed note info

All requests verified with:
- JWT token
- Matching institute_code

--------------------------------------------------------------

9. DATABASE STRUCTURE
----------------------
Table: notes

+------------------------+----------------------------------------+
| FIELD                 | DESCRIPTION                            |
+------------------------+----------------------------------------+
| note_id (PK)          | Unique identifier                      |
| institute_code        | Institute reference                    |
| uploader_id           | Teacher/User ID                        |
| title                 | Note title                             |
| short_description     | Short summary (optional)               |
| detailed_description  | Full content or AI summary             |
| file_url              | File path (if uploaded)                |
| file_type             | text / pdf / image / video / link       |
| branch                | Branch                                 |
| semester              | Integer (1‚Äì6)                          |
| subject               | Subject name                           |
| difficulty            | ENUM('Easy','Medium','Hard')           |
| tags                  | Array of topics                        |
| views                 | Integer count                          |
| likes                 | Integer count                          |
| saved_by              | Array of user_ids                      |
| completed_by          | Array of user_ids                      |
| created_at            | Datetime                               |
| updated_at            | Datetime                               |
+------------------------+----------------------------------------+

--------------------------------------------------------------

10. AI INTEGRATION
-------------------
- **Flan-T5 Large** ‚Üí Summarization of content.
- **E5 / BGE Models** ‚Üí Embedding generation for semantic search.
- **Mistral / GPT** ‚Üí Optional AI-generated structured notes.
- AI estimates reading time & extracts tags automatically.

--------------------------------------------------------------

11. SECURITY & PRIVACY
-----------------------
- Data restricted by institute_code.
- Role-based note access:
   - Student ‚Üí View/Save/Like/Summarize
   - Teacher ‚Üí Upload/Edit/Delete
   - Admin ‚Üí Full control
- File URLs are signed and temporary.
- Uploads scanned for safety before processing.

--------------------------------------------------------------

12. FUTURE SCOPE
-----------------
- Collaborative note editing.
- Comments/discussion under each note.
- Smart AI difficulty labeling.
- Personalized recommendations based on viewed notes.
- Offline access mode for saved notes.

==============================================================
